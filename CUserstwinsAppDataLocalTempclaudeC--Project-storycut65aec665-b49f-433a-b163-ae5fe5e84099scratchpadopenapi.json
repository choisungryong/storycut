{"openapi":"3.1.0","info":{"title":"STORYCUT API","version":"2.0"},"paths":{"/":{"get":{"summary":"Read Root","description":"메인 페이지","operationId":"read_root__get","responses":{"200":{"description":"Successful Response","content":{"text/html":{"schema":{"type":"string"}}}}}}},"/login.html":{"get":{"summary":"Login Page","description":"로그인 페이지","operationId":"login_page_login_html_get","responses":{"200":{"description":"Successful Response","content":{"text/html":{"schema":{"type":"string"}}}}}}},"/signup.html":{"get":{"summary":"Signup Page","description":"회원가입 페이지","operationId":"signup_page_signup_html_get","responses":{"200":{"description":"Successful Response","content":{"text/html":{"schema":{"type":"string"}}}}}}},"/api/manifest/{project_id}":{"get":{"summary":"Get Manifest","description":"Manifest 조회","operationId":"get_manifest_api_manifest__project_id__get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"string","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/generate/story":{"post":{"summary":"Generate Story","description":"Step 1: 스토리만 생성","operationId":"generate_story_api_generate_story_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/generate/video":{"post":{"summary":"Generate Video From Story","description":"Step 2: 확정된 스토리로 영상 생성 시작","operationId":"generate_video_from_story_api_generate_video_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateVideoRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/generate/images":{"post":{"summary":"Generate Images Only","description":"Step 2A: 스토리 확정 후 이미지만 생성 (비동기, 프로그레시브).\n\n즉시 응답 반환 후 백그라운드에서 이미지 생성.\n프론트엔드는 GET /api/status/images/{project_id}로 진행 상황 폴링.\n\nReturns:\n    project_id, status, total_scenes","operationId":"generate_images_only_api_generate_images_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateVideoRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/status/images/{project_id}":{"get":{"summary":"Get Image Generation Status","description":"이미지 생성 진행 상황 조회 (프로그레시브 폴링용).\n\nmanifest.json을 읽어서 각 씬의 이미지 생성 상태 반환.","operationId":"get_image_generation_status_api_status_images__project_id__get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"string","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/regenerate/image/{project_id}/{scene_id}":{"post":{"summary":"Regenerate Scene Image","description":"특정 씬의 이미지를 재생성합니다.\n\nArgs:\n    project_id: 프로젝트 ID\n    scene_id: 씬 ID\n    req: {\"prompt\": \"새 프롬프트\"} (선택사항)\n\nReturns:\n    새로 생성된 이미지 URL","operationId":"regenerate_scene_image_api_regenerate_image__project_id___scene_id__post","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"string","title":"Project Id"}},{"name":"scene_id","in":"path","required":true,"schema":{"type":"integer","title":"Scene Id"}}],"requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"type":"object","additionalProperties":true},{"type":"null"}],"title":"Req"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/test/image":{"get":{"summary":"Test Image Generation","description":"이미지 생성 테스트 — gemini-2.5-flash-image (Nano Banana).","operationId":"test_image_generation_api_test_image_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/convert/i2v/{project_id}/{scene_id}":{"post":{"summary":"Convert Image To Video","description":"특정 씬의 이미지를 Veo I2V로 영상 변환합니다.\n\nArgs:\n    project_id: 프로젝트 ID\n    scene_id: 씬 ID\n    req: {\"motion_prompt\": \"camera slowly zooms in\"} (선택사항)\n\nReturns:\n    변환된 비디오 URL","operationId":"convert_image_to_video_api_convert_i2v__project_id___scene_id__post","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"string","title":"Project Id"}},{"name":"scene_id","in":"path","required":true,"schema":{"type":"integer","title":"Scene Id"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"default":{},"title":"Req"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/toggle/hook-video/{project_id}/{scene_id}":{"post":{"summary":"Toggle Hook Video","description":"특정 씬을 Hook Video로 설정/해제합니다.\n\nArgs:\n    project_id: 프로젝트 ID\n    scene_id: 씬 ID\n    req: {\"enable\": true/false}\n\nReturns:\n    Hook video 설정 상태","operationId":"toggle_hook_video_api_toggle_hook_video__project_id___scene_id__post","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"string","title":"Project Id"}},{"name":"scene_id","in":"path","required":true,"schema":{"type":"integer","title":"Scene Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Req"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/sample-voice/{voice_id}":{"get":{"summary":"Get Voice Sample","description":"TTS 목소리 샘플 반환 (없으면 생성)","operationId":"get_voice_sample_api_sample_voice__voice_id__get","parameters":[{"name":"voice_id","in":"path","required":true,"schema":{"type":"string","title":"Voice Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/download/{project_id}":{"get":{"summary":"Download Video","description":"생성된 영상 다운로드","operationId":"download_video_api_download__project_id__get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"string","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/register":{"post":{"summary":"Register","description":"회원가입 (Local Mock ONLY)\n\n⚠️ 경고: 이것은 개발용 Mock입니다. 실제 회원가입은 Cloudflare Worker가 처리합니다.","operationId":"register_api_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/login":{"post":{"summary":"Login","description":"로그인 (Local Mock ONLY)\n\n⚠️ 경고: 이것은 개발용 Mock입니다. 실제 인증은 Cloudflare Worker가 처리합니다.","operationId":"login_api_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/status/{project_id}":{"get":{"summary":"Get Video Status","description":"영상 생성 진행 상태 조회","operationId":"get_video_status_api_status__project_id__get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"string","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/stream/{project_id}":{"get":{"summary":"Stream Video","description":"영상 스트리밍 (Inline Playback)","operationId":"stream_video_api_stream__project_id__get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"string","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/asset/{project_id}/{asset_type}/{filename}":{"get":{"summary":"Get Asset","description":"R2 또는 로컬에서 에셋 파일 제공 (이미지, 오디오, 비디오)\nasset_type: image, audio, video","operationId":"get_asset_api_asset__project_id___asset_type___filename__get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"string","title":"Project Id"}},{"name":"asset_type","in":"path","required":true,"schema":{"type":"string","title":"Asset Type"}},{"name":"filename","in":"path","required":true,"schema":{"type":"string","title":"Filename"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/video/{project_id}":{"get":{"summary":"Get Video From R2","description":"R2에서 최종 비디오 제공 (Worker 대신 백엔드가 처리)","operationId":"get_video_from_r2_api_video__project_id__get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"string","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/history":{"get":{"summary":"Get History List","description":"완료된 프로젝트 목록 조회 (R2 + 로컬 병합)","operationId":"get_history_list_api_history_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/projects/{project_id}/characters/generate":{"post":{"summary":"Generate Master Character","description":"마스터 캐릭터 이미지 생성 (캐릭터 참조 시스템)\n\n스토리 생성 전에 주요 캐릭터의 마스터 이미지를 먼저 생성합니다.\n이후 모든 씬에서 이 이미지를 참조하여 캐릭터 일관성을 유지합니다.","operationId":"generate_master_character_api_projects__project_id__characters_generate_post","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"string","title":"Project Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateCharacterRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/projects/{project_id}/characters":{"get":{"summary":"Get Project Characters","description":"프로젝트의 모든 캐릭터 조회","operationId":"get_project_characters_api_projects__project_id__characters_get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"string","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/projects/{project_id}/scenes/{scene_id}/regenerate":{"post":{"summary":"Regenerate Scene","description":"특정 씬만 재생성\n\n- 이미지/TTS/비디오를 선택적으로 재생성\n- 기존 에셋은 백업 후 교체\n- 완료 후 manifest 업데이트","operationId":"regenerate_scene_api_projects__project_id__scenes__scene_id__regenerate_post","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"string","title":"Project Id"}},{"name":"scene_id","in":"path","required":true,"schema":{"type":"integer","title":"Scene Id"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegenerateSceneRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/projects/{project_id}/scenes":{"get":{"summary":"Get Project Scenes","description":"프로젝트의 모든 씬 상태 조회","operationId":"get_project_scenes_api_projects__project_id__scenes_get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"string","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/projects/{project_id}/recompose":{"post":{"summary":"Recompose Video","description":"모든 씬을 다시 합성하여 최종 영상 생성","operationId":"recompose_video_api_projects__project_id__recompose_post","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"string","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health":{"get":{"summary":"Health Check","description":"헬스 체크 및 진단","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/system/errors":{"get":{"summary":"Get System Errors","description":"최근 시스템 에러 로그 조회","operationId":"get_system_errors_api_system_errors_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/mv/upload":{"post":{"summary":"Mv Upload Music","description":"Step 1: 음악 파일 업로드 및 분석\n\n- 지원 포맷: mp3, wav, m4a, ogg, flac\n- 최대 길이: 10분","operationId":"mv_upload_music_api_mv_upload_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_mv_upload_music_api_mv_upload_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MVUploadResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/mv/generate":{"post":{"summary":"Mv Generate","description":"Step 2: 뮤직비디오 생성 시작 (비동기)\n\n업로드된 음악을 기반으로 MV 생성을 시작합니다.","operationId":"mv_generate_api_mv_generate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MVProjectRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MVGenerateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/mv/status/{project_id}":{"get":{"summary":"Mv Status","description":"MV 생성 상태 조회","operationId":"mv_status_api_mv_status__project_id__get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"string","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MVStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/mv/result/{project_id}":{"get":{"summary":"Mv Result","description":"MV 결과 조회","operationId":"mv_result_api_mv_result__project_id__get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"string","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MVResultResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/mv/stream/{project_id}":{"get":{"summary":"Mv Stream","description":"MV 스트리밍","operationId":"mv_stream_api_mv_stream__project_id__get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"string","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/mv/download/{project_id}":{"get":{"summary":"Mv Download","description":"MV 다운로드","operationId":"mv_download_api_mv_download__project_id__get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"string","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"Body_mv_upload_music_api_mv_upload_post":{"properties":{"music_file":{"type":"string","format":"binary","title":"Music File"}},"type":"object","required":["music_file"],"title":"Body_mv_upload_music_api_mv_upload_post"},"FeatureFlags":{"properties":{"hook_scene1_video":{"type":"boolean","title":"Hook Scene1 Video","description":"Scene 1에서 고품질 비디오 생성 강제 (비용 주의)","default":false},"ffmpeg_kenburns":{"type":"boolean","title":"Ffmpeg Kenburns","description":"이미지 기반 씬에 Ken Burns(줌/팬) 효과 적용","default":true},"ffmpeg_audio_ducking":{"type":"boolean","title":"Ffmpeg Audio Ducking","description":"내레이션 존재 시 BGM 자동 감쇠","default":false},"subtitle_burn_in":{"type":"boolean","title":"Subtitle Burn In","description":"자막을 영상에 burn-in 처리","default":true},"context_carry_over":{"type":"boolean","title":"Context Carry Over","description":"이전 장면 키워드를 다음 장면 프롬프트에 상속","default":true},"optimization_pack":{"type":"boolean","title":"Optimization Pack","description":"제목/썸네일/AB 테스트 메타데이터 생성","default":true},"topic_finding":{"type":"boolean","title":"Topic Finding","description":"트렌드 기반 주제 후보 생성 (외부 API 필요)","default":false},"film_look":{"type":"boolean","title":"Film Look","description":"필름 그레인 + 색보정 후처리 (시네마틱 룩)","default":false},"consistency_validation":{"type":"boolean","title":"Consistency Validation","description":"Gemini Vision 기반 일관성 검증 활성화","default":false},"consistency_max_retries":{"type":"integer","title":"Consistency Max Retries","description":"일관성 검증 실패 시 최대 재시도 횟수","default":3}},"type":"object","title":"FeatureFlags","description":"기능 플래그 설정\n\n기본값 OFF → 안정화 후 ON 전환 가능"},"GenerateCharacterRequest":{"properties":{"character_token":{"type":"string","title":"Character Token"},"name":{"type":"string","title":"Name"},"gender":{"type":"string","title":"Gender","default":"unknown"},"age":{"type":"string","title":"Age","default":"unknown"},"appearance":{"type":"string","title":"Appearance"},"clothing_default":{"type":"string","title":"Clothing Default","default":""},"visual_seed":{"type":"integer","title":"Visual Seed","default":42},"style":{"type":"string","title":"Style","default":"cinematic portrait, high quality, detailed"}},"type":"object","required":["character_token","name","appearance"],"title":"GenerateCharacterRequest","description":"마스터 캐릭터 이미지 생성 요청"},"GenerateRequest":{"properties":{"topic":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Topic"},"genre":{"type":"string","title":"Genre","default":"emotional"},"mood":{"type":"string","title":"Mood","default":"dramatic"},"style":{"type":"string","title":"Style","default":"cinematic, high contrast"},"voice":{"type":"string","title":"Voice","default":"uyVNoMrnUku1dZyVEXwD"},"duration":{"type":"integer","title":"Duration","default":60},"platform":{"type":"string","title":"Platform","default":"youtube_long"},"hook_scene1_video":{"type":"boolean","title":"Hook Scene1 Video","default":false},"ffmpeg_kenburns":{"type":"boolean","title":"Ffmpeg Kenburns","default":true},"ffmpeg_audio_ducking":{"type":"boolean","title":"Ffmpeg Audio Ducking","default":false},"subtitle_burn_in":{"type":"boolean","title":"Subtitle Burn In","default":true},"context_carry_over":{"type":"boolean","title":"Context Carry Over","default":true},"optimization_pack":{"type":"boolean","title":"Optimization Pack","default":true},"project_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Project Id"},"webhook_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Webhook Url"}},"type":"object","title":"GenerateRequest","description":"영상 생성 요청"},"GenerateVideoRequest":{"properties":{"project_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Project Id","description":"프로젝트 ID (옵션)"},"request_params":{"$ref":"#/components/schemas/ProjectRequest","description":"초기 요청 파라미터"},"story_data":{"additionalProperties":true,"type":"object","title":"Story Data","description":"확정된 스토리 데이터"}},"type":"object","required":["request_params","story_data"],"title":"GenerateVideoRequest","description":"영상 생성 요청 (확정된 스토리 포함)"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"LoginRequest":{"properties":{"email":{"type":"string","title":"Email"},"password":{"type":"string","title":"Password"}},"type":"object","required":["email","password"],"title":"LoginRequest"},"MVGenerateResponse":{"properties":{"project_id":{"type":"string","title":"Project Id"},"status":{"type":"string","title":"Status"},"total_scenes":{"type":"integer","title":"Total Scenes"},"estimated_time_sec":{"type":"integer","title":"Estimated Time Sec"},"message":{"type":"string","title":"Message","default":"뮤직비디오 생성이 시작되었습니다"}},"type":"object","required":["project_id","status","total_scenes","estimated_time_sec"],"title":"MVGenerateResponse","description":"MV 생성 요청 응답"},"MVGenre":{"type":"string","enum":["fantasy","romance","action","horror","scifi","drama","comedy","abstract"],"title":"MVGenre","description":"뮤직비디오 장르"},"MVMood":{"type":"string","enum":["epic","dreamy","energetic","calm","dark","romantic","melancholic","uplifting"],"title":"MVMood","description":"뮤직비디오 분위기"},"MVProjectRequest":{"properties":{"project_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Project Id","description":"프로젝트 ID (없으면 자동 생성)"},"lyrics":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Lyrics","description":"가사 텍스트"},"concept":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Concept","description":"비주얼 컨셉 설명"},"genre":{"$ref":"#/components/schemas/MVGenre","default":"fantasy"},"mood":{"$ref":"#/components/schemas/MVMood","default":"epic"},"style":{"$ref":"#/components/schemas/MVStyle","default":"cinematic"},"manual_scenes":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Manual Scenes","description":"수동 씬 분할 [{'start_sec': 0, 'end_sec': 30, 'description': '...'}, ...]"}},"type":"object","title":"MVProjectRequest","description":"MV 생성 요청"},"MVProjectStatus":{"type":"string","enum":["uploaded","analyzing","ready","generating","composing","completed","failed"],"title":"MVProjectStatus","description":"프로젝트 상태"},"MVResultResponse":{"properties":{"project_id":{"type":"string","title":"Project Id"},"status":{"$ref":"#/components/schemas/MVProjectStatus"},"video_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Video Url"},"thumbnail_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Thumbnail Url"},"duration_sec":{"type":"number","title":"Duration Sec"},"scenes":{"items":{"$ref":"#/components/schemas/MVScene"},"type":"array","title":"Scenes"},"download_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Download Url"}},"type":"object","required":["project_id","status","video_url","thumbnail_url","duration_sec","scenes","download_url"],"title":"MVResultResponse","description":"MV 결과 조회 응답"},"MVScene":{"properties":{"scene_id":{"type":"integer","title":"Scene Id","description":"씬 ID"},"start_sec":{"type":"number","title":"Start Sec","description":"시작 시간"},"end_sec":{"type":"number","title":"End Sec","description":"종료 시간"},"duration_sec":{"type":"number","title":"Duration Sec","description":"씬 길이"},"image_prompt":{"type":"string","title":"Image Prompt","description":"이미지 생성 프롬프트"},"visual_description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Visual Description","description":"비주얼 설명 (한국어)"},"lyrics_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Lyrics Text","description":"해당 구간 가사"},"status":{"$ref":"#/components/schemas/MVSceneStatus","default":"pending"},"image_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image Path","description":"생성된 이미지 경로"},"video_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Video Path","description":"생성된 비디오 경로"},"transition":{"type":"string","title":"Transition","description":"전환 효과 (cut, crossfade, fade)","default":"crossfade"},"camera_work":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Camera Work","description":"카메라 워크"}},"type":"object","required":["scene_id","start_sec","end_sec","duration_sec","image_prompt"],"title":"MVScene","description":"뮤직비디오 씬"},"MVSceneStatus":{"type":"string","enum":["pending","generating","completed","failed"],"title":"MVSceneStatus","description":"씬 상태"},"MVStatusResponse":{"properties":{"project_id":{"type":"string","title":"Project Id"},"status":{"$ref":"#/components/schemas/MVProjectStatus"},"progress":{"type":"integer","title":"Progress"},"current_step":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Current Step"},"scenes":{"items":{"$ref":"#/components/schemas/MVScene"},"type":"array","title":"Scenes"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message"}},"type":"object","required":["project_id","status","progress","current_step","scenes"],"title":"MVStatusResponse","description":"MV 상태 조회 응답"},"MVStyle":{"type":"string","enum":["cinematic","anime","webtoon","realistic","illustration","abstract"],"title":"MVStyle","description":"비주얼 스타일"},"MVUploadResponse":{"properties":{"project_id":{"type":"string","title":"Project Id"},"status":{"type":"string","title":"Status"},"music_analysis":{"$ref":"#/components/schemas/MusicAnalysis"},"extracted_lyrics":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Extracted Lyrics","description":"자동 추출된 가사"},"message":{"type":"string","title":"Message","default":"음악 업로드 및 분석 완료"}},"type":"object","required":["project_id","status","music_analysis"],"title":"MVUploadResponse","description":"음악 업로드 응답"},"MusicAnalysis":{"properties":{"duration_sec":{"type":"number","title":"Duration Sec","description":"전체 길이 (초)"},"bpm":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Bpm","description":"BPM (분당 비트 수)"},"mood":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mood","description":"감지된 분위기"},"energy":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Energy","description":"전체 에너지 레벨 (0-1)"},"segments":{"items":{"$ref":"#/components/schemas/MusicSegment"},"type":"array","title":"Segments","description":"구간 분할"},"key_timestamps":{"items":{"type":"number"},"type":"array","title":"Key Timestamps","description":"주요 전환 포인트"},"extracted_lyrics":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Extracted Lyrics","description":"Gemini로 자동 추출된 가사"},"timed_lyrics":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Timed Lyrics","description":"타임스탬프 포함 가사 [{t: 초, text: 가사}]"}},"type":"object","required":["duration_sec"],"title":"MusicAnalysis","description":"음악 분석 결과"},"MusicSegment":{"properties":{"segment_type":{"type":"string","title":"Segment Type","description":"구간 타입 (intro, verse, chorus, bridge, outro)"},"start_sec":{"type":"number","title":"Start Sec","description":"시작 시간 (초)"},"end_sec":{"type":"number","title":"End Sec","description":"종료 시간 (초)"},"duration_sec":{"type":"number","title":"Duration Sec","description":"구간 길이 (초)"},"energy_level":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Energy Level","description":"에너지 레벨 (0-1)"}},"type":"object","required":["segment_type","start_sec","end_sec","duration_sec"],"title":"MusicSegment","description":"음악 구간 정보"},"ProjectRequest":{"properties":{"topic":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Topic","description":"영상 주제"},"style_preset":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Style Preset","description":"영상 스타일 프리셋","default":"cinematic, high contrast"},"target_platform":{"$ref":"#/components/schemas/TargetPlatform","default":"youtube_long"},"language":{"type":"string","title":"Language","description":"언어 코드","default":"ko"},"voice":{"type":"string","title":"Voice","description":"ElevenLabs voice ID (default: Adam)","default":"uyVNoMrnUku1dZyVEXwD"},"duration_target_sec":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Duration Target Sec","description":"목표 영상 길이 (초)","default":60},"image_model":{"type":"string","title":"Image Model","description":"이미지 생성 모델 (standard/premium)","default":"standard"},"voice_over":{"type":"boolean","title":"Voice Over","description":"내레이션 포함 여부","default":true},"bgm":{"type":"boolean","title":"Bgm","description":"배경 음악 포함 여부","default":true},"subtitles":{"type":"boolean","title":"Subtitles","description":"자막 포함 여부","default":true},"genre":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Genre","description":"장르","default":"emotional"},"mood":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mood","description":"분위기","default":"dramatic"},"user_idea":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Idea","description":"사용자 아이디어"},"feature_flags":{"$ref":"#/components/schemas/FeatureFlags","description":"기능 플래그"}},"type":"object","title":"ProjectRequest","description":"프로젝트 요청 정보"},"RegenerateSceneRequest":{"properties":{"style":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Style"},"regenerate_image":{"type":"boolean","title":"Regenerate Image","default":true},"regenerate_tts":{"type":"boolean","title":"Regenerate Tts","default":true},"regenerate_video":{"type":"boolean","title":"Regenerate Video","default":true}},"type":"object","title":"RegenerateSceneRequest","description":"씬 재생성 요청"},"RegisterRequest":{"properties":{"username":{"type":"string","title":"Username"},"email":{"type":"string","title":"Email"},"password":{"type":"string","title":"Password"}},"type":"object","required":["username","email","password"],"title":"RegisterRequest"},"TargetPlatform":{"type":"string","enum":["youtube_long","youtube_shorts"],"title":"TargetPlatform","description":"대상 플랫폼"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}