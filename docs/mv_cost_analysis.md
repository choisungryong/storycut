# MV 생성 원가 분석

> 기준일: 2026-02-08 | Gemini Developer API (Pay-as-you-go)

## API 단가표

| 모델 | 용도 | Input | Output | 비고 |
|------|------|-------|--------|------|
| Gemini 2.5 Flash | 텍스트/이미지 입력 | $0.30/1M tokens | $2.50/1M tokens | |
| Gemini 2.5 Flash | 오디오 입력 | $1.00/1M tokens | $2.50/1M tokens | 가사 싱크 |
| Gemini 2.5 Flash Image | 이미지 생성 | - | **$0.039/장** | 1024x1024, 1,290 output tokens |
| Gemini 2.0 Flash | 텍스트 | $0.10/1M tokens | $0.40/1M tokens | Visual Bible, 프롬프트 |
| Veo 3.1 I2V | 영상 생성 | - | ~$0.05-0.10/클립 | 선택사항 (자동 파이프라인 미사용) |

## MV 파이프라인 API 호출 내역

### 1. 음악 분석 + 가사 (Step 1)

| 단계 | 모델 | 호출 수 | 입력 | 비용 |
|------|------|---------|------|------|
| 음악 분석 | librosa (로컬) | - | 오디오 파일 | $0 |
| 가사 타이밍 싱크 (사용자 가사 제공 시) | Gemini 2.5 Flash (오디오) | 1회 | 오디오 + 텍스트 | ~$0.01 |
| 가사 추출 (사용자 가사 미제공 시) | Gemini 2.5 Flash (오디오) | 1-6회 | 오디오 | ~$0.01-0.06 |
| Whisper fallback (Gemini 실패 시) | OpenAI Whisper-1 | 0-1회 | 오디오 | $0.02/분 |

### 2. 씬 생성 (Step 2)

| 단계 | 모델 | 호출 수 | 입력 | 비용 |
|------|------|---------|------|------|
| Visual Bible 생성 | Gemini 2.0 Flash | 1회 | ~2,000 tokens | ~$0.001 |
| 씬 프롬프트 생성 | Gemini 2.0 Flash | 1회 | ~3,000 tokens | ~$0.001 |

### 3. 이미지 생성 (Step 3) — 원가의 95%

| 단계 | 모델 | 호출 수 | 단가 | 비용 |
|------|------|---------|------|------|
| 스타일 앵커 | Gemini 2.5 Flash Image | **1장** | $0.039 | $0.039 |
| 캐릭터 앵커 | Gemini 2.5 Flash Image | **1-3장** | $0.039 | $0.039-0.117 |
| Primary 씬 이미지 | Gemini 2.5 Flash Image | **3-12장** | $0.039 | $0.117-0.468 |
| Derived 씬 이미지 | FFmpeg (로컬) | 3-12장 | $0 | **$0** |

> **Derived 씬 최적화**: 같은 segment_type 반복 시 원본 이미지를 hflip/crop 변형으로 재사용.
> 이미지 생성 수를 약 50% 절감.

### 4. 영상 합성 (Step 4)

| 단계 | 도구 | 비용 |
|------|------|------|
| Ken Burns 효과 | FFmpeg (로컬) | $0 |
| 클립 연결 | FFmpeg (로컬) | $0 |
| 자막 burn-in | FFmpeg (로컬) | $0 |
| 오디오 믹싱 | FFmpeg (로컬) | $0 |

## 곡 길이별 원가 시뮬레이션

### 2분 곡 (6-8씬)

| 항목 | 수량 | 비용 |
|------|------|------|
| 가사 싱크 | 1회 | $0.01 |
| LLM 텍스트 (VB + 프롬프트) | 2회 | $0.002 |
| 스타일 앵커 | 1장 | $0.039 |
| 캐릭터 앵커 | 2장 | $0.078 |
| Primary 씬 이미지 | 4-5장 | $0.156-0.195 |
| **합계** | | **$0.22-0.25 (약 320-370원)** |

### 3분 곡 (12-13씬) — 기본 시나리오

| 항목 | 수량 | 비용 |
|------|------|------|
| 가사 싱크 | 1회 | $0.01 |
| LLM 텍스트 (VB + 프롬프트) | 2회 | $0.002 |
| 스타일 앵커 | 1장 | $0.039 |
| 캐릭터 앵커 | 2장 | $0.078 |
| Primary 씬 이미지 | 6-7장 | $0.234-0.273 |
| **합계** | | **$0.30-0.36 (약 440-530원)** |

### 5분+ 곡 (20-24씬)

| 항목 | 수량 | 비용 |
|------|------|------|
| 가사 싱크 | 2-3회 (청크) | $0.02-0.03 |
| LLM 텍스트 (VB + 프롬프트) | 2회 | $0.002 |
| 스타일 앵커 | 1장 | $0.039 |
| 캐릭터 앵커 | 2장 | $0.078 |
| Primary 씬 이미지 | 10-12장 | $0.390-0.468 |
| **합계** | | **$0.46-0.55 (약 670-800원)** |

## 원가 구성 비율 (3분 곡 기준)

```
이미지 생성 (9장)  ████████████████████████████████████████████████  95%  $0.351
오디오 분석         ██                                                3%  $0.010
LLM 텍스트         █                                                 2%  $0.002
영상 합성 (FFmpeg)                                                    0%  $0.000
───────────────────────────────────────────────────────────────────────────
총 원가                                                              100%  $0.363
```

## 최적화 효과

### Derived 씬 도입 전/후 비교 (3분 곡, 13씬)

| | Before | After | 절감 |
|---|--------|-------|------|
| 씬 이미지 생성 | 13장 | 6장 (primary) | -54% |
| 이미지 비용 | $0.507 | $0.234 | **-$0.273** |
| 총 원가 | ~$0.63 | ~$0.36 | **-43%** |

### 추가 절감 방안

| 방안 | 예상 절감 | 참고 |
|------|----------|------|
| Free tier 활용 (텍스트/오디오) | -$0.012 | 텍스트·오디오 입출력 무료 |
| 캐릭터 앵커 1장으로 축소 | -$0.039 | 단일 캐릭터 MV |
| Vertex AI → Developer API | -70% | Developer API가 훨씬 저렴 |

## 서비스 가격 시뮬레이션

| 판매가 | 원가 (3분) | 마진 | 마진율 |
|--------|-----------|------|--------|
| ₩1,000 | ₩530 | ₩470 | 47% |
| ₩2,000 | ₩530 | ₩1,470 | 74% |
| ₩3,000 | ₩530 | ₩2,470 | 82% |
| ₩5,000 | ₩530 | ₩4,470 | 89% |

> **참고**: Railway 서버 비용, R2 스토리지, 대역폭 비용은 별도.

## 참고

- [Gemini Developer API Pricing](https://ai.google.dev/gemini-api/docs/pricing)
- [Vertex AI Pricing](https://cloud.google.com/vertex-ai/generative-ai/pricing)
- 이미지 단가: $0.039/장 (1024x1024, Gemini Developer API 기준)
- Vertex AI 사용 시 $0.134/장으로 3.4배 비쌈
